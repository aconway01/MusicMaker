<!DOCTYPE html>

<html>

<head>

<title>Chord Constructor</title>

<link rel="stylesheet" type="text/css" href="music.css">

<meta charset="UTF-8">

<script type="text/javascript">
function chordConstructor() {

    var chordType = document.getElementById("chordType").value;

    var chrom_scale = ["C","C# or Db","D","D# or Eb","E","F","F# or Gb","G","G# or Ab","A","A# or Bb","B"];

    var start_key = document.getElementById("startKey").value;

    var key_index = chrom_scale.indexOf(start_key);

    var end_key = [];

    var notes_in_chord;

    if (chordType == "Major") {
        var major_scale_steps = [key_index, key_index + 2, key_index + 4, key_index + 5, key_index + 7, key_index + 9, key_index + 11, key_index + 12];

        for (i = 0; i < major_scale_steps.length - 1; i++) {
            end_key.push(chrom_scale[major_scale_steps[i]%12]);
        }

        notes_in_chord = (end_key[0] + ", " + end_key[2] + ", "  + end_key[4]);
    }
    
    else if (chordType == "Minor") {
        var minor_scale_steps = [chrom_scale.indexOf(start_key), chrom_scale.indexOf(start_key)+ 2, chrom_scale.indexOf(start_key) + 3, chrom_scale.indexOf(start_key) + 5, chrom_scale.indexOf(start_key) + 7, chrom_scale.indexOf(start_key) + 8, chrom_scale.indexOf(start_key) + 10, chrom_scale.indexOf(start_key) + 12];

        for (i = 0; i < minor_scale_steps.length - 1; i++) {
            end_key.push(chrom_scale[minor_scale_steps[i]%12]);
        }

        notes_in_chord = (end_key[0] + ", " + end_key[2] + ", " + end_key[4]);
    }

    else if (chordType == "Diminished") {
        notes_in_chord = (chrom_scale[key_index%12] + ", " + chrom_scale[(key_index + 3)%12] + ", "  + chrom_scale[(key_index + 6)%12]);
    }

    document.getElementById("notes").innerHTML = "The notes in this chord are: " + "<br>" + notes_in_chord;
}

</script>

</head>

<body>

<div class="contain">

<h1>Music Maker</h1>

<div id='cssmenu'>
<ul>
<li><a href="home.html"><span>Home</span></a></li>
<li><a href="SongKey.html"><span>Song Keys</span></a></li>
<li class="active"><a href="ChordConstructor.html"><span>Chords</span></a></li>
<li class="last"><a href="metronome.html"><span>Metronome</span></a></li>
</ul>

<br>

<p>Enter your chord (b's are flats, #'s are sharps):</p>

<select id="startKey">
  <option value="C">C</option>
  <option value="C# or Db">C# or Db</option>
  <option value="D">D</option>
  <option value="D# or Eb">D# or Eb</option>
  <option value="E">E</option>
  <option value="F">F</option>
  <option value="F# or Gb">F# or Gb</option>
  <option value="G">G</option>
  <option value="G# or Ab">G# or Ab</option>
  <option value="A">A</option>
  <option value="A# or Bb">A# or Bb</option>
  <option value="B">B</option>
</select>

<select id="chordType">
  <option value="Major">Major</option>
  <option value="Minor">Minor</option>
  <option value="Diminished">Diminished</option>
</select>

<input type="button" value="Try!" onclick="chordConstructor()">

<p id="notes"></p>

</div>

</div>

</body>

</html>
